"""
–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–µ—Ä–≤–æ–π –ª–µ–∫—Ü–∏–∏ –≤ –≥—Ä—É–ø–ø—É @learncoding_team
"""

import asyncio
import logging
from datetime import datetime
from telegram import Bot, InlineKeyboardButton, InlineKeyboardMarkup

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s",
    level=logging.INFO,
)
logger = logging.getLogger(__name__)

async def post_first_lesson():
    """–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–µ—Ä–≤—É—é –ª–µ–∫—Ü–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å"""
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –≥—Ä—É–ø–ø—ã @learncoding_team
    BOT_TOKEN = "1234567890:ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789"  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
    CHAT_ID = "-1001234567890"  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π CHAT_ID –≥—Ä—É–ø–ø—ã
    
    bot = Bot(token=BOT_TOKEN)
    
    # –ü–µ—Ä–≤–∞—è –ª–µ–∫—Ü–∏—è
    lesson_text = (
        "üìö <b>–£—Ä–æ–∫ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML-–¥–æ–∫—É–º–µ–Ω—Ç–∞, –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∞–±–∑–∞—Ü—ã, —Å—Å—ã–ª–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</b>\n\n"
        "üí° <b>–¢–µ–æ—Ä–∏—è:</b>\n"
        "HTML ‚Äî —ç—Ç–æ —è–∑—ã–∫ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü. –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: –∑–∞–≥–æ–ª–æ–≤–∫–∏ (h1-h6), –∞–±–∑–∞—Ü—ã (p), —Å—Å—ã–ª–∫–∏ (a), –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (img). –ö–∞–∂–¥—ã–π HTML-–¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å DOCTYPE –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É html > head > body. –¢–µ–≥–∏ –±—ã–≤–∞—é—Ç –ø–∞—Ä–Ω—ã–µ (–æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–π –∏ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π) –∏ –æ–¥–∏–Ω–æ—á–Ω—ã–µ (—Å–∞–º–æ–∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è).\n\n"
        "üìù <b>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:</b>\n"
        "–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–±–∑–∞—Ü–∞–º–∏ —Ç–µ–∫—Å—Ç–∞, —Å—Å—ã–ª–∫–æ–π –Ω–∞ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏.\n\n"
        "‚úÖ <b>–°–¥–∞—ë–º –î–ó:</b> –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —ç—Ç–æ–π –∂–µ –≥—Ä—É–ø–ø–µ\n\n"
        "üéØ <b>–£—Ä–æ–≤–µ–Ω—å:</b> HTML/CSS\n"
        "üìÖ <b>–î–∞—Ç–∞:</b> " + datetime.now().strftime('%d.%m.%Y') + "\n\n"
        "üë®‚Äçüíª <b>–ú–µ–Ω—Ç–æ—Ä:</b> –í–∞–¥–∏–º (vadzim.by)"
    )
    
    # –ö—Ä–∞—Å–∏–≤—ã–µ –∫–Ω–æ–ø–∫–∏
    keyboard = InlineKeyboardMarkup([
        [InlineKeyboardButton(
            "üë®‚Äçüíª –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω—Ç–æ—Ä–æ–º ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ", 
            url="https://t.me/vadzim_belarus"
        )],
        [InlineKeyboardButton(
            "üìö –í—Å–µ —É—Ä–æ–∫–∏ –∫—É—Ä—Å–∞", 
            url="https://t.me/learncoding_team"
        )],
        [InlineKeyboardButton(
            "üåê –°–∞–π—Ç —Å–æ–∑–¥–∞—Ç–µ–ª—è", 
            url="https://vadzim.by"
        )]
    ])
    
    try:
        print("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—É—é –ª–µ–∫—Ü–∏—é –≤ –≥—Ä—É–ø–ø—É @learncoding_team...")
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        message = await bot.send_message(
            chat_id=CHAT_ID,
            text=lesson_text,
            reply_markup=keyboard,
            parse_mode='HTML'
        )
        
        print("–õ–µ–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!")
        print(f"–¢–µ–º–∞: –£—Ä–æ–∫ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML-–¥–æ–∫—É–º–µ–Ω—Ç–∞...")
        print(f"–î–∞—Ç–∞: {datetime.now().strftime('%d.%m.%Y –≤ %H:%M')}")
        print(f"–ì—Ä—É–ø–ø–∞: @learncoding_team")
        
        # –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        try:
            await bot.pin_chat_message(
                chat_id=CHAT_ID,
                message_id=message.message_id
            )
            print("–°–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–æ!")
        except Exception as e:
            print(f"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–∫—Ä–µ–ø–∏—Ç—å: {e}")
            print("–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã")
        
        print("\n–ü–µ—Ä–≤–∞—è –ª–µ–∫—Ü–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!")
        print("–°—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ HTML/CSS")
        print("–î–ó –º–æ–∂–Ω–æ —Å–¥–∞–≤–∞—Ç—å –æ—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–µ–∫—Ü–∏–∏: {e}")
        print("üîß –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:")
        print("   1. –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π")
        print("   2. –ë–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É @learncoding_team")
        print("   3. –ë–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã")
        print("   4. CHAT_ID –≥—Ä—É–ø–ø—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π")
        return False

async def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print("=" * 60)
    print("–ü–û–ú–û–©–ù–ò–ö –ü–†–û–ì–†–ê–ú–ú–ò–°–¢–ê - –ü–ï–†–í–ê–Ø –õ–ï–ö–¶–ò–Ø")
    print("=" * 60)
    print("–ì—Ä—É–ø–ø–∞: @learncoding_team")
    print("–°–æ–∑–¥–∞—Ç–µ–ª—å: –í–∞–¥–∏–º (vadzim.by)")
    print("–¶–µ–ª—å: –û–±—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é —Å –Ω—É–ª—è")
    print("=" * 60)
    
    success = await post_first_lesson()
    
    if success:
        print("\n–ì–û–¢–û–í–û! –ü–µ—Ä–≤–∞—è –ª–µ–∫—Ü–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!")
        print("–°—Ç—É–¥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ")
        print("–°–ª–µ–¥—É—é—â–∏–µ –ª–µ–∫—Ü–∏–∏ –±—É–¥—É—Ç –∫–∞–∂–¥—ã–µ 4 –¥–Ω—è")
    else:
        print("\n–û–®–ò–ë–ö–ê! –õ–µ–∫—Ü–∏—è –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞")
        print("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞")

if __name__ == "__main__":
    asyncio.run(main())
